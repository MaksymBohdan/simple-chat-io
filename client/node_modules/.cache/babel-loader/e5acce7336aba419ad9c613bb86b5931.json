{"ast":null,"code":"import io from 'socket.io-client';\n\nconst chatInit = () => {\n  const socket = io.connect('http://localhost:8001');\n  socket.on('connection', socket => {\n    console.log('connection client');\n  });\n\n  function registerHandler(onMessageReceived) {\n    socket.on('message', onMessageReceived);\n  }\n\n  function unregisterHandler() {\n    socket.off('message');\n  }\n\n  socket.on('error', function (err) {\n    console.log('received socket error:');\n    console.log(err);\n  });\n\n  function getAvailableUsers(cb) {\n    socket.emit('availableUsers', cb);\n  }\n\n  const getAllUsers = cb => {\n    console.log(cb);\n    socket.emit('allUsers', cb);\n  };\n\n  return {\n    register,\n    join,\n    leave,\n    message,\n    getChatrooms,\n    getAvailableUsers,\n    registerHandler,\n    unregisterHandler,\n    getAllUsers\n  };\n};\n\nexport default chatInit;","map":{"version":3,"sources":["/home/maksym/Рабочий стол/gitHub/simple-chat-io/client/src/services/socket.js"],"names":["io","chatInit","socket","connect","on","console","log","registerHandler","onMessageReceived","unregisterHandler","off","err","getAvailableUsers","cb","emit","getAllUsers","register","join","leave","message","getChatrooms"],"mappings":"AAAA,OAAOA,EAAP,MAAe,kBAAf;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACrB,QAAMC,MAAM,GAAGF,EAAE,CAACG,OAAH,CAAW,uBAAX,CAAf;AAEAD,EAAAA,MAAM,CAACE,EAAP,CAAU,YAAV,EAAwBF,MAAM,IAAI;AAChCG,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,GAFD;;AAIA,WAASC,eAAT,CAAyBC,iBAAzB,EAA4C;AAC1CN,IAAAA,MAAM,CAACE,EAAP,CAAU,SAAV,EAAqBI,iBAArB;AACD;;AAED,WAASC,iBAAT,GAA6B;AAC3BP,IAAAA,MAAM,CAACQ,GAAP,CAAW,SAAX;AACD;;AAEDR,EAAAA,MAAM,CAACE,EAAP,CAAU,OAAV,EAAmB,UAASO,GAAT,EAAc;AAC/BN,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,GAHD;;AAOA,WAASC,iBAAT,CAA2BC,EAA3B,EAA+B;AAC7BX,IAAAA,MAAM,CAACY,IAAP,CAAY,gBAAZ,EAA8BD,EAA9B;AACD;;AAED,QAAME,WAAW,GAAGF,EAAE,IAAI;AACxBR,IAAAA,OAAO,CAACC,GAAR,CAAYO,EAAZ;AAEAX,IAAAA,MAAM,CAACY,IAAP,CAAY,UAAZ,EAAwBD,EAAxB;AACD,GAJD;;AAMA,SAAO;AACLG,IAAAA,QADK;AAELC,IAAAA,IAFK;AAGLC,IAAAA,KAHK;AAILC,IAAAA,OAJK;AAKLC,IAAAA,YALK;AAMLR,IAAAA,iBANK;AAOLL,IAAAA,eAPK;AAQLE,IAAAA,iBARK;AASLM,IAAAA;AATK,GAAP;AAWD,CA3CD;;AA6CA,eAAed,QAAf","sourcesContent":["import io from 'socket.io-client';\n\nconst chatInit = () => {\n  const socket = io.connect('http://localhost:8001');\n\n  socket.on('connection', socket => {\n    console.log('connection client');\n  })\n\n  function registerHandler(onMessageReceived) {\n    socket.on('message', onMessageReceived);\n  }\n\n  function unregisterHandler() {\n    socket.off('message');\n  }\n\n  socket.on('error', function(err) {\n    console.log('received socket error:');\n    console.log(err);\n  });\n\n\n\n  function getAvailableUsers(cb) {\n    socket.emit('availableUsers', cb);\n  }\n\n  const getAllUsers = cb => {\n    console.log(cb);\n\n    socket.emit('allUsers', cb);\n  };\n\n  return {\n    register,\n    join,\n    leave,\n    message,\n    getChatrooms,\n    getAvailableUsers,\n    registerHandler,\n    unregisterHandler,\n    getAllUsers\n  };\n};\n\nexport default chatInit;\n"]},"metadata":{},"sourceType":"module"}